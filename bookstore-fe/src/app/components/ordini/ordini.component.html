<div class="container mt-4">
  <h1 class="text-center">I tuoi ordini</h1>
  
  <!-- Messaggio di errore -->
  <div *ngIf="error" class="alert alert-danger">
    {{ error }}
  </div>

  <!-- Loader -->
  <div *ngIf="loading" class="text-center">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Caricamento...</span>
    </div>
  </div>

  <!-- Lista ordini -->
  <div *ngIf="!loading && ordini.length > 0" class="mt-4">
    <div class="table-responsive">
      <table class="table table-hover table-striped">
        <thead class="table-dark">
          <tr>
            <th>Numero Ordine</th>
            <th>Data Ordine</th>
            <th>Data Spedizione</th>
            <th>Stato</th>
            <th>Azioni</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ordine of ordini">
            <td>{{ ordine.idOrdine }}</td>
            <td>{{ ordine.dataOrdine | date:'dd/MM/yyyy' }}</td>
            <td>{{ ordine.dataSpedizione ? (ordine.dataSpedizione | date:'dd/MM/yyyy') : 'Non spedito' }}</td>
            <td>
              <span class="badge rounded-pill {{ getStatusClass(+ordine.status) }}">
                {{ getStatusLabel(+ordine.status) }}
              </span>
            </td>
            <td>
              <a [routerLink]="['/ordine', ordine.idOrdine]" class="btn btn-primary btn-sm">
                <i class="bi bi-eye"></i> Dettagli
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Nessun ordine -->
  <div *ngIf="!loading && ordini.length === 0" class="text-center mt-5">
    <p>Non hai ancora effettuato ordini.</p>
    <a routerLink="/prodotti" class="btn btn-primary mt-3">
      <i class="bi bi-shop"></i> Vai allo shopping
    </a>
  </div>
</div>
